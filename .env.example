# ContextCleanse Environment Variables
# Copy this file to .env and fill in your actual values

# ===========================================
# APPLICATION SETTINGS
# ===========================================
APP_NAME="ContextCleanse API"
DEBUG=true
ENVIRONMENT=development

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# PostgreSQL with pgvector extension
DATABASE_URL=postgresql://cc_user:cc_secure_pass_2024@localhost:5432/context_cleanse
DATABASE_ECHO=false

# ===========================================
# SECURITY SETTINGS
# ===========================================
# IMPORTANT: Change this in production!
SECRET_KEY=your-super-secret-key-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# ===========================================
# DOCKER COMPOSE CONFIGURATION
# ===========================================
COMPOSE_BAKE=true

# ===========================================
# FRONTEND CONFIGURATION
# ===========================================
FRONTEND_URL=http://localhost:3000
FRONTEND_AUTH_SUCCESS_URL=http://localhost:3000/dashboard
FRONTEND_AUTH_ERROR_URL=http://localhost:3000/auth/error
NEXT_PUBLIC_API_URL=http://localhost:8000

# ===========================================
# OAUTH PROVIDERS (Configure at least one)
# ===========================================

# Google OAuth (https://console.cloud.google.com/)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# Microsoft OAuth (https://portal.azure.com/)
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
MICROSOFT_TENANT_ID=common
MICROSOFT_REDIRECT_URI=http://localhost:3000/auth/microsoft/callback

# Apple OAuth (https://developer.apple.com/)
APPLE_CLIENT_ID=your-apple-client-id
APPLE_TEAM_ID=your-apple-team-id
APPLE_KEY_ID=your-apple-key-id
APPLE_PRIVATE_KEY=path-to-your-apple-private-key.p8
APPLE_REDIRECT_URI=http://localhost:3000/auth/apple/callback

# ===========================================
# MACHINE LEARNING SETTINGS
# ===========================================
ML_MODELS_PATH=/app/models
SPAM_MODEL_NAME=spam_classifier.onnx
VECTORIZER_NAME=tfidf_vectorizer.pkl
SPAM_THRESHOLD=0.5
CONFIDENCE_THRESHOLD=0.8
MAX_EMAIL_LENGTH=10000
BATCH_SIZE=32
MAX_CONCURRENT_REQUESTS=10

# ===========================================
# OLLAMA LLM SERVICE
# ===========================================
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2:7b
OLLAMA_EMBEDDING_MODEL=nomic-embed-text

# ===========================================
# EMBEDDINGS & VECTOR SEARCH
# ===========================================
SENTENCE_TRANSFORMER_MODEL=all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# ===========================================
# RAG ASSISTANT SETTINGS
# ===========================================
RAG_TOP_K=5
RAG_SIMILARITY_THRESHOLD=0.7
MAX_CONTEXT_LENGTH=4000

# ===========================================
# REDIS CACHE (Optional)
# ===========================================
REDIS_URL=redis://localhost:6379/0
CACHE_TTL=3600

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=INFO
LOG_FORMAT="{time:YYYY-MM-DD HH:mm:ss} | {level} | {name}:{function}:{line} | {message}"

# ===========================================
# DEVELOPMENT TOOLS (Optional)
# ===========================================
# For development and testing
PYTEST_CURRENT_TEST=true 